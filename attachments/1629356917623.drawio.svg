<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="963px" height="689px" viewBox="-0.5 -0.5 963 689" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36&quot; version=&quot;8.5.3&quot; editor=&quot;www.draw.io&quot; type=&quot;device&quot;&gt;&lt;diagram&gt;7VpNk+MmEP01HCclgSTDURrLm0NSlao5ZOeU0tqsrZQsXDIe2/n1AQTWFzOleLXGM5OTTQsk1LxHv24E0OP29KXKdpvf2YoWAHqrE0BzACH0CRY/0nKuLT6OZrVlXeUrbWsMT/k/VBs9bT3kK7rvdOSMFTzfdY1LVpZ0yTu2rKrYsdvtOyu6T91lazowPC2zYmj9M1/xTW3FodfYf6X5emOe7Hv6yjYznbVhv8lW7NgyoRSgx4oxXv/bnh5pIb1n/FKPW7xy9TKxipZ8zICgHvCSFQf9bnpe/Gxelq7Eu+smq/iGrVmZFWljTSp2KFdU3tETrabPb4zthNEXxr8p52e9kNmBM2Ha8G2hrw5nrV9kzw7VUs8j1AudVWtqemmbnGJrnH7VL5RtKa/OokNFi4znL93lyzQK1pd+jaPEH+0ru9/Cgd9KAXP1pCV7oeJmKBYtkEaAPAIs/sxAkgCMQYpB7IM4BCkByRwQb+Dwxp3SN8dNzunTLlNuOApCjXSdmASnpze9oq8+oFC/juGjQeexATc0EN60gB15P+7J6L4ROB209NA/WC4e0Tgfex3fw6Dn05oCelTPrZdpjPI0vm9Pt7lOLFwnrrhOBn5bFoc9p5WF7iFIPEDmiuULQEIb3RfvY1fwfYe7gon07wGsvpEgLbROv32M9pw/8NxawKMGZDKT2Et8gKHGHkEKjakEpGvIOUVccOeBqIM4NERcEDhDHBp4Li3NPZzgSePnAeJbblmBC7xQ6emverxqPMvGL6Fpzk/ti/OzaZ1y/rXpKVrP5o7ifzNINsyYcdi06HSIpsbmK2IKwe4OgkhvYetZDdRUXFXZudVtJzvs33gQ7ElmFHo9rNS3vFar+cMEQ4oLoRSw2sLxHMTCEoAEgyTu5x6iQ6wEhdQjQmgsAIwKsRbJN6FZorX8p2KC2PgXSnSIGwrdkSptEsr+xJcRIxHDZ6ankjb60aklnriOHoM0Bt4yfKD3JFgs8np6io7eN4f6+g2oW6T350R7XyzdFO0BchLrrohZTXxsQuJzJyLa4+MoIkGb8ndGJDhU/jbZTwDBkgk1x8hMUyuey4yAJPK/JFIMSCAtOAZJpJjgAaw4FgcAq0siuOLIOROcEiFyI/p+iAj/TSiOI4ItIZm8OHuVVPO9LjwCr1cR70s70+HqAQ8Ta0E4zK/s6XyfqiIuIlVlimRsw4lmOk7vkMU9OX1TDg+LbXfP4YmCWZuvP4euFj522YJ7KzhdvTvy/19XcClff6B1dZJZ3d26mkLvB1rYz5tVtBcWfTjGhp93YdsqGVnqLiGcerFHV6xsdZdIZn1SRKrkMPGOlRB+fxVs3amykLnKGy+1k0haZGVFqMlYycpQakpChqWUkvH8e74Ur8JK56LT6YcPgcX/DlgyCrnmcOnn5nejPWf5akmemyeysiEzo1RmN01xvNpmha1K6Ap9Jk/0b3k8FVqqQ3cLN0e5COz5+ZXToisiYDA8z9kJj0FvucnKUn0fuWTbbVauAIyyrQRb+W2/uzjMJUxvilLy7pTC5RR2wnqaUQX3UVg2s+l/UvKhDlRueXooms0nvvVu0nwpjdJ/AQ==&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><path d="M 152 460 L 152 493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 152 498.88 L 148.5 491.88 L 152 493.63 L 155.5 491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="52" y="400" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(86.5,423.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="130" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 132px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">node recovery: 最终补齐</div></div></foreignObject></switch></g><path d="M 392 460 L 392 493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 392 498.88 L 388.5 491.88 L 392 493.63 L 395.5 491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="292" y="400" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(296.5,423.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="190" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 192px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">cluster recovery: 尝试补齐/最终补齐</div></div></foreignObject></switch></g><path d="M 622 460 L 622 493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 622 498.88 L 618.5 491.88 L 622 493.63 L 625.5 491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="522" y="400" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(587.5,423.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="68" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 70px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">gap请求结果</div></div></foreignObject></switch></g><path d="M 507 60 L 507 93.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 507 98.88 L 503.5 91.88 L 507 93.63 L 510.5 91.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="407" y="0" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(492.5,23.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="28" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 30px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">Entry</div></div></foreignObject></switch></g><path d="M 152 560 L 152 630 L 405.63 630" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 410.88 630 L 403.88 633.5 L 405.63 630 L 403.88 626.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="52" y="500" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(81.5,516.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="140" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 140px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">切换为node recovery模式<br />gap查找/发起gap数据请求</div></div></foreignObject></switch></g><path d="M 392 560 L 392 580 L 512 580 L 512 593.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 512 598.88 L 508.5 591.88 L 512 593.63 L 515.5 591.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="292" y="500" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(319.5,516.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="144" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 146px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">切换为cluster recovery模式<br />gap查找/发起gap数据请求</div></div></foreignObject></switch></g><path d="M 622 560 L 622 580 L 512 580 L 512 593.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 512 598.88 L 508.5 591.88 L 512 593.63 L 515.5 591.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="522" y="500" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(555.5,523.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="132" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 134px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">请求队列中相应状态处理</div></div></foreignObject></switch></g><path d="M 512 660 L 512 680 L 7 680 L 7 230 L 400.63 230" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 405.88 230 L 398.88 233.5 L 400.63 230 L 398.88 226.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="412" y="600" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(457.5,623.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="108" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 110px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">请求状态检测与处理</div></div></foreignObject></switch></g><path d="M 507 360 L 152 360 L 152 393.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 152 398.88 L 148.5 391.88 L 152 393.63 L 155.5 391.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 507 360 L 392 360 L 392 393.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 392 398.88 L 388.5 391.88 L 392 393.63 L 395.5 391.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 507 360 L 622 360 L 622 393.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 622 398.88 L 618.5 391.88 L 622 393.63 L 625.5 391.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 507 360 L 862 360 L 862 393.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 862 398.88 L 858.5 391.88 L 862 393.63 L 865.5 391.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 862 460 L 862 493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 862 498.88 L 858.5 491.88 L 862 493.63 L 865.5 491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="762" y="400" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(763.5,416.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="196" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 196px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">收到write_log模块发来的写数据notification</div></div></foreignObject></switch></g><path d="M 507 160 L 507 193.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 507 198.88 L 503.5 191.88 L 507 193.63 L 510.5 191.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="407" y="100" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(458.5,123.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="96" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 98px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">默认为normal模式</div></div></foreignObject></switch></g><path d="M 507 260 L 507 293.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 507 298.88 L 503.5 291.88 L 507 293.63 L 510.5 291.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="407" y="200" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(444.5,223.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="124" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 126px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">pop channel command </div></div></foreignObject></switch></g><path d="M 862 560 L 862 630 L 618.37 630" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 613.12 630 L 620.12 626.5 L 618.37 630 L 620.12 633.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="762" y="500" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(791.5,523.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="140" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 140px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">gap查找/发起gap数据请求</div></div></foreignObject></switch></g></g></svg>