<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="963px" height="689px" viewBox="-0.5 -0.5 963 689" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36&quot; version=&quot;8.5.3&quot; editor=&quot;www.draw.io&quot; type=&quot;device&quot;&gt;&lt;diagram&gt;7VpRb6M4EP41fuwJbCDmEVq6+3AnndSH2z6d2MRLOBEcObRJ7tffGOwQsLtH2yxOtVtFqj2MjT3+xvN5DCK3m8MnkW/Xf/AVqxD2VgdE7hCGv4UH/6Tk2El8imknKUS5UrJe8FD+y5RQNSyeyhXbDRQbzqum3A6FS17XbNkMZLkQfD9U+8ar4Vu3ecEMwcMyr0zpX+WqWXdSGnq9/DMri7V+s++pJ5tcKyvBbp2v+P5MRDJEbgXnTVfaHG5ZJa2n7dK1u3/h6WlggtXNlAZB1+A5r57U3NS4mqOeLFvB3FWVi2bNC17nVdZLU8Gf6hWTPXpQ63V+53wLQh+E/7CmOaqFzJ8aDqJ1s6nUU3PUaiI7/iSWahyhWuhcFExrKZkc4lk7NdVPjG9YI46gIFiVN+XzcPlyhYLipNcbCgrKVna7habdsgjFAUojlIWIUpR6Rb5thSGUZYHeoSQzzNsbT1pivy4b9rDN20nvwX0mGuqZiYYdvmsD9fSGhGrw2vs0Fvc9lLEG7PoMxpH3frtF1423ywFJNf2Tl/CK3vjUG9geByObdoBXrUZmPQ1jkqXpdVv63LNji2fHrjw7tns2+G6IMoroAiWJYEsOHneUTxKKEl/6PKjEC5QtUJwgGkgJuD0IoVFyL3eBrNWU3cQoBWVPjkn2fYsAFtAwTeXGYarJzn1ZzgKpkwTuNxHfd7iJaBrwEbDta35yBu7L7zaTLecblrNHqQ606UJKUh9RfIUgdIrB4Moj2QCDxMRgEDjDIDEsl9W6Dyd4Uvi5wXTOTcx0oBnwwqSlv6j2beVRVn4LdfXucP7w7qhrh7L50mtC7VH3COW+kazoNtOwaaH1mFwamy+wMYKHOwiJRwvbjcqgY4kQ+fFMbSsVdt95ER5xbhJ6I6x0Xb6V7PnmeeSFfT1syUXaHlLan+td3DiP4Dm3cfKRqISFJ1/eVSbvXzai3J586ULjDbdkAc7CdsacAvG9RziqYDLpVwGlQpY0cu9bEgw9AQ/OWq4cSn1gIcBOUmi+mMpdnGN8TFVmxXhAnESaN0SMPjr1AelxEI/s0WmS+2AbE3fmPvhdTBzYtzxiLuTpkEbO8e0U3pEbIvUueL+OfFkx+v94t7H+8BJE6rX0x/eG8Ai8UVJ6TJe0wpsb3FyYX2HzzGJzzAWiSZsBjmRGh/pttCNtdieSEYumKiDS7Aq9eERRZ/Vhz5j91fvwW0LUq32Ymj78XheevCb+rzWZuibxXGvi5HTyMdfEn4vKRT8Jv77EopC5PMV2/2WmsOWliy/L8lHWxufuCNvGcJDEZmCaOy05ZxwOf0HZCmViSb2EeCYoE1umZfyxwV4ADv+ueGG7kzzlTU4XmWe3lID1ODYPnjVvym/lEqbCa+fU1Ok3C4HF/g68ZBJQ9bWOeehzkeQILJ8XyVvtFMXdPXfWbsIqR1hzsckrW4bQ8Q584895MRSamSF3cHvtRhnYrnPoXHAzb0G2MFvsLdd5XbcfIS75ZpPXK4SjfCOBUn/dbU+TdQmxWREWf7gof7q7/JEZsxBbwEtmAq9+uSUhfFUXIQamLWadHMd/JLmFav8dbZfz6z9HJtl/&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><path d="M 152 460 L 152 493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 152 498.88 L 148.5 491.88 L 152 493.63 L 155.5 491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="52" y="400" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(117.5,423.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="68" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 70px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">收到gap数据</div></div></foreignObject></switch></g><path d="M 392 460 L 392 493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 392 498.88 L 388.5 491.88 L 392 493.63 L 395.5 491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="292" y="400" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(293.5,416.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="196" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 196px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">来自recovery模块的尝试补齐/最终补齐命令</div></div></foreignObject></switch></g><path d="M 622 460 L 622 493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 622 498.88 L 618.5 491.88 L 622 493.63 L 625.5 491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="522" y="400" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(575.5,423.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="92" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 94px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">gap数据请求命令</div></div></foreignObject></switch></g><path d="M 507 60 L 507 93.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 507 98.88 L 503.5 91.88 L 507 93.63 L 510.5 91.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="407" y="0" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(492.5,23.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="28" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 30px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">Entry</div></div></foreignObject></switch></g><path d="M 152 560 L 152 630 L 405.63 630" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 410.88 630 L 403.88 633.5 L 405.63 630 L 403.88 626.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="52" y="500" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(117.5,523.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="68" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 70px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">gap数据填充</div></div></foreignObject></switch></g><path d="M 392 560 L 392 580 L 512 580 L 512 593.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 512 598.88 L 508.5 591.88 L 512 593.63 L 515.5 591.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="292" y="500" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(321.5,516.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="140" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 140px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">切换为recovery模式<br />gap查找/发起gap数据请求</div></div></foreignObject></switch></g><path d="M 622 560 L 622 580 L 512 580 L 512 593.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 512 598.88 L 508.5 591.88 L 512 593.63 L 515.5 591.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="522" y="500" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(575.5,523.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="92" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 94px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">gap数据请求处理</div></div></foreignObject></switch></g><path d="M 512 660 L 512 680 L 7 680 L 7 230 L 400.63 230" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 405.88 230 L 398.88 233.5 L 400.63 230 L 398.88 226.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="412" y="600" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(457.5,623.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="108" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 109px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">请求状态检测与处理</div></div></foreignObject></switch></g><path d="M 507 360 L 507 380 L 152 380 L 152 393.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 152 398.88 L 148.5 391.88 L 152 393.63 L 155.5 391.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 507 360 L 507 380 L 392 380 L 392 393.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 392 398.88 L 388.5 391.88 L 392 393.63 L 395.5 391.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 507 360 L 507 380 L 622 380 L 622 393.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 622 398.88 L 618.5 391.88 L 622 393.63 L 625.5 391.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 507 360 L 507 380 L 862 380 L 862 393.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 862 398.88 L 858.5 391.88 L 862 393.63 L 865.5 391.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="407" y="300" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(470.5,323.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="72" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 73px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">命令类型分析</div></div></foreignObject></switch></g><path d="M 862 460 L 862 493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 862 498.88 L 858.5 491.88 L 862 493.63 L 865.5 491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="762" y="400" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(763.5,416.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="196" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 196px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">收到write_log模块发来的写数据notification</div></div></foreignObject></switch></g><path d="M 507 160 L 507 193.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 507 198.88 L 503.5 191.88 L 507 193.63 L 510.5 191.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="407" y="100" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(458.5,123.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="96" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 98px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">默认为normal模式</div></div></foreignObject></switch></g><path d="M 507 260 L 507 293.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 507 298.88 L 503.5 291.88 L 507 293.63 L 510.5 291.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="407" y="200" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(444.5,223.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="124" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 126px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">pop channel command </div></div></foreignObject></switch></g><path d="M 862 560 L 862 630 L 618.37 630" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 613.12 630 L 620.12 626.5 L 618.37 630 L 620.12 633.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="762" y="500" width="200" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(791.5,523.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="140" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 140px; white-space: nowrap; overflow-wrap: normal; text-align: center;" class="xsj_foreignObject xsj_drawio_foreignObject"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">gap查找/发起gap数据请求</div></div></foreignObject></switch></g></g></svg>