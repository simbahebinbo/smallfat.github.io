#### 为什么不说坐标系
不同于平面直角坐标系，射影平面坐标系定义了无穷远点这一概念，使得理解变得比较抽象，而椭圆曲线的标准公式是在射影平面坐标系上描述的。

当然，椭圆曲线同样能够在平面直角坐标系中被描述，为了易于理解，我们以下所有的公式和描述都基于平面直角坐标系。

另外，本文所有如下数值元素都在实数域。

#### 定义
满足如下方程，且每个点都非奇异（或者说每个点处都可切）的曲线，被称为椭圆曲线。  
```math
y^2 + axy + by = x^3 + c*x^2 + dx + e
```

在点A(x, y)处的斜率：

![image](http://latex.codecogs.com/gif.latex?\\k=(3x^2+2cx+d-ay)/(2y+ax+b))


由于原始的椭圆曲线比较复杂，一般在加密场景中，我们都是用如下公式描述的简单版椭圆曲线，下文中所有的内容都是基于如下曲线：

![image](http://latex.codecogs.com/gif.latex?\\y^2=x^3+ax+b)

![image](http://latex.codecogs.com/gif.latex?\\4a^3+27b^2%3C%3E0)


#### 数学性质

###### 群与椭圆曲线

- 群 Group

我们在一个集合上定义一个二元运算，这就是数学中的群。比如，二元运算-->“加法”并用符号“+”表示，（可以任意符号任意名字，此处仅为举例。也可以这么理解：一个群，由自身的集合和二元运算符‘+’组成），为了使集合C成为一个群，必须满足以下四个条件：

1. 封闭性（closure）：如果a和b被包含于C ，那么a+b 也一定是C的元素。
2. 结合律(associativity)
3. 存在一个单位元（identity element）0，使得 a+0 = 0+a = a;
4. 每个数都存在一个相反数(inverse)。

如果我们再加上第五个条件：
5. 交换律(commutativity):a+b = b+a.

这个群就叫做阿贝尔群(abelian group)。

从我们通常的加法概念来看，整数集是一个群（而且是一个阿贝尔群）。自然数集 不是一个群，因为它不满足第4条。

- 椭圆曲线上的群
我们可以在椭圆曲线上定义一个群：

1. 群中的元素就是椭圆曲线上的点。
2. 单位元就是无穷处的点0.
3. 相反数P，是关于X轴对称的另一边的点。
4. 加法规则定义如下：取一条直线上的三点（这条直线和椭圆曲线相交的三点），P, Q, R（皆非零），他们的总和等于0，P+Q+R=0。

请注意最后一条规则，我们仅仅说了需要三个在一条直线上的点，并没有规定他们的顺序。这就意味着，如果P, Q, R在一条直线上的话，他们满足

P+(Q+R)=Q+(P+R)=R+(P+Q)=⋯=0。

这样，我们可以直观的证明：+运算符是符合交换律和结合律的，这是一个阿贝尔群。

###### 椭圆曲线的数学运算
- 加法
当我们画一条直线通过P，Q，这条线将会和椭圆曲线相交于第三个点，R（这就暗示着P，Q，R三点是在一条直线上的）。如果我们取它相反的点，-R， 我们就可以找到P+Q 的结果。在椭圆曲线的几何学上，加法就是这么定义的：

![image](http://latex.codecogs.com/gif.latex?\\P+Q+R=0)

或

![image](http://latex.codecogs.com/gif.latex?\\P+Q=-R)

![image](https://pic2.zhimg.com/80/v2-8d11ab14dddaef7b3877751b78775f75_720w.jpg) 

- 标量乘法

![image](http://latex.codecogs.com/gif.latex?\\S = H + H + ....)

即

![image](http://latex.codecogs.com/gif.latex?\\S = nH)

写成上述式子，可以看出计算nH需要做n次加法。如果n有k位二进制的话，我们的算法时间复杂度是O(2^k)，这不是一个好的结果。还好还有更好的算法。

其中一个比较好的算法是倍加算法，将n分解为多个倍加项，转化为对数进行计算，其算法复杂度为O(log(n))，具体的算法过程可见 [ECC椭圆曲线加密算法：介绍](https://zhuanlan.zhihu.com/p/36326221)


- 除法

#### 对数问题：知道S和H，怎么计算n？
此问题即是椭圆曲线中的对数问题。最笨的方法是穷举。如果n足够大，相信这个计算也不是太容易。
