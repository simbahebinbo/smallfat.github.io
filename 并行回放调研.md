---
title: 并行回放调研
tags: 回放 并行
category: /小书匠/日记/2022-07
grammar_cjkRuby: true
---
# 背景
# 思路
### 执行单元
- 多个执行单元同时进行xlog回放

### 回放组织
- 依据对xlog的record类别不同，采用不同的回放组织策略
	- 事务日志
		- 为属于事务日志的xlog，放入一个有序队列，并分配一个回放执行单元
		- 队列按照xlog recored原顺序排序
	- DML日志 
		- 为属于同一个table的records，放入一个有序队列，并分配一个回放执行单元
		- 队列按照xlog record原顺序排序
		- 在相应开始事务日志(start)执行了以后，再来执行该事务下所有不同table下的XLOG回放，直到某条record的下一个同事务record是结束事务日志(commit/rollback)
	- DDL日志
		- 考虑与相应DDL的前后关系问题？